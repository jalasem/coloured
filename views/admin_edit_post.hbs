<!DOCTYPE html>
<html lang="en">

{{> admin_head}}

<body>

  {{> admin_nav}}

  <main class="row">
    <a href="/controls/admin/" class="newPostBtn btn waves-effect waves-light"><i class="icon ion-arrow-left-c left"> </i> Back</a>

    <div class="container newPCont blue-grey lighten-5 blue-grey-text text-darken-4">
      <h5>Edit Post</h5>
      <div class="row">
        <form id="NewPostForm" class="col s12 m8" onsubmit="writeEditPost(); return false;">
          <div class="row">
            <div class="input-field col s12">
              <input id="newPostTitle" type="text" class="validate" data-error="Your new post requires a title" data-success="good" value="{{thisPostData.title}}"
                required>
              <label for="newPostTitle">Post Title *</label>
            </div>
            <div class="input-field col s12">
              <textarea maxlength="300" id="newPosDesc" class="materialize-textarea">
                {{thisPostData.description}}
              </textarea>
              <label for="newPosDesc">Post Description <span class="grey-text text-lighten-3">(Optional)</span></label>
            </div>
            <div class="input-field col s12">
              <select id="newPostCat">
                <option value="general" disabled selected>Select Category</option>
                {{#each cats}}
                <option value="{{@key}}">{{@key}}</option>
                {{/each}}
              </select>
              <label for="newPostCat">Please select <mark>{{thisPostData.category}}</mark> or change as you wish</label>
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <textarea id="newPostFull" class="materialize-textarea">
                {{{thisPostData.full_post}}}
              </textarea>
              <label for="newPostFull" style="margin-top: -0.5rem;font-size: 1.5rem;color: #455A64;">Full Post</label>
            </div>
            <button style="margin-top: 1rem;margin-left: 0.7rem;" class="btn-large indigo" type="submit">
              <i class="newPostSpinner hide fa fa-spinner fa-pulse fa-3x fa-fw"> </i>
              Update
            </button>
          </div>
        </form>
        <div class="col s12 m4">
          <ul class="collapsible" data-collapsible="expandable">
            <li>
              <div class="collapsible-header active"><i class="icon ion-earth"> </i> New post Status</div>
              <div class="collapsible-body">
                <select id="newPostStatus">
                  <option value="Draft">Draft</option>
                  <option value="public" {{#if thisPostData.published}}selected{{/if}}>Public</option>
                </select>
              </div>
            </li>
            <li>
              <div class="collapsible-header active"><i class="icon ion-image"> </i> Post Image (Optional)</div>
              <div class="collapsible-body">
                <img id="placeholdFeaturedImage" src="{{thisPostData.media.url}}" alt="" class="img-responsive blue-grey" style="min-height:150px; width: 100%">
                <div class="file-field input-field">
                  <div class="btn">
                    <span>File</span>
                    <input type="file" id="ingredient_file">
                  </div>
                  <div class="file-path-wrapper">
                    <input class="file-path validate" type="text">
                  </div>
                  <div id="progress-wrp" class="hide">
                    <div class="progress-bar"></div>
                    <div class="status">0%</div>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>


  </main>

  <script async="" src="https://www.google-analytics.com/analytics.js"></script>
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-64939323-3', 'auto');
    ga('send', 'pageview');
  </script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.2/js/materialize.min.js"></script>
  <script src="/js/app.js"></script>
</body>

</html>